1. Fonctions principales de tracé et de voyage

Initialisation et gestion du tracé :
startDrawingFromLocation(event, location) - Démarre un tracé depuis un lieu spécifique
getCanvasCoordinates(event) - Convertit les coordonnées d'événement en coordonnées canvas
updateDistanceDisplay() - Met à jour l'affichage de la distance parcourue
resetVoyageSegments() - Réinitialise les segments de voyage
Suivi des découvertes pendant le voyage :
updateJourneyInfo() - Met à jour les informations de voyage (régions traversées, lieux proches)
updateDiscoveriesChronologically() - Met à jour les découvertes de manière chronologique
checkRegionTraversal(point) - Vérifie si un point traverse une nouvelle région
checkNearbyLocations(point) - Vérifie les lieux à proximité d'un point
addDiscovery(item, type, index) - Ajoute une découverte à la liste chronologique
highlightDiscoveryOnMap(name, type, highlight) - Met en surbrillance une découverte sur la carte

2. Gestion des segments de voyage :
generateVoyageSegments() - Génère les segments de voyage basés sur le tracé
calculateSegmentDuration(segment) - Calcule la durée d'un segment
activateVoyageSegment(segmentIndex) - Active un segment de voyage spécifique
updateVoyageSegmentDisplay(segment) - Met à jour l'affichage du segment actuel
showVoyageSegmentsModal() - Affiche la modal des segments de voyage
navigateVoyageSegment(direction) - Navigation entre les segments

3. Variables globales de voyage
journeyPath - Array contenant tous les points du tracé
totalPathPixels - Distance totale en pixels
startPoint et lastPoint - Points de début et fin du tracé
journeyDiscoveries - Liste chronologique des découvertes
traversedRegions - Set des régions traversées
nearbyLocations - Set des lieux proches
voyageSegments - Array des segments de voyage
currentSegmentIndex - Index du segment actuel
isVoyageActive - État du voyage

4. Fonctions utilitaires de voyage
getMilesFromPixels(pixels) - Convertit les pixels en miles
getDaysFromMiles(miles) - Calcule le nombre de jours depuis les miles
isPointInPolygon(point, polygon) - Vérifie si un point est dans un polygone (pour les régions)